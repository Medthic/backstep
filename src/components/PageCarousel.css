.carousel {
  width: 100vw;
  max-width: 100vw;
  min-width: 0;
  overflow: hidden;
  /* Use CSS variables defined in App.css to reserve space for top nav and bottom bars */
  height: calc(100vh - 4rem - var(--sliding-height) - var(--infobar-height));
  display: flex;
  align-items: center;
  justify-content: center;
  background: #222;
  position: relative;
  top: 0;
  left: 0;
  right: 0;
  z-index: 0;
  top: 4rem; /* Adjusted to account for the navbar height */
}

/* track holds pages stacked on top of each other */
.carousel-track {
  position: relative;
  width: 100vw;
  height: 100%;
  overflow: hidden;
  display: block;
}

/* base page styles -- pages are absolutely positioned so two can animate together */
.carousel-page {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  max-width: 100vw;
  box-sizing: border-box;
  overflow-y: auto; /* Allow vertical scrolling within a page */
  -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
  height: 100%;
  min-height: 0;
  color: white;
  display: flex;
  align-items: flex-start; /* Align content to the top */
  justify-content: center;
  margin: 0;
  padding: 0;
  /* keep elements crisp during transform */
  backface-visibility: hidden;
  will-change: transform, opacity;
}

/* Active page (no animation) */
.carousel-page.active {
  position: relative;
}

/* incoming/outgoing animations */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0%);
    opacity: 1;
  }
}

@keyframes slideOutLeft {
  from {
    transform: translateX(0%);
    opacity: 1;
  }
  to {
    transform: translateX(-30%);
    opacity: 0;
  }
}

.carousel-page.incoming {
  animation: slideInRight 700ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

.carousel-page.outgoing {
  animation: slideOutLeft 700ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

/* hidden pages stay mounted but not visible or interactive */
.carousel-page.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

/* stacking order during animation */
.carousel-page.outgoing { z-index: 10; }
.carousel-page.incoming { z-index: 20; }
.carousel-page.active { z-index: 30; }

/* small responsive tweak: avoid huge translate on very narrow screens by using vw units */
@media (max-width: 640px) {
  .carousel-page.incoming,
  .carousel-page.outgoing {
    animation-duration: 620ms;
  }
}

